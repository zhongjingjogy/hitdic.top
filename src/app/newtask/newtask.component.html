<div *ngIf="userService.user.username; else noLoginBlock">
  <div *ngIf="userService.user.use == true; else noUsePermissionBlock">
    <form class="example-form">
      <mat-form-field class="example-full-width">
        <input matInput placeholder="title" [(ngModel)]="title" name="title">
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <textarea matInput placeholder="Note" [(ngModel)]="note" name="note" [ngModelOptions]="{standalone: true}"
          matTextareaAutosize matAutosizeMinRows=3 matAutosizeMaxRows=10></textarea>
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <mat-select placeholder="Method" [(ngModel)]="method" name="method">
          <mat-option *ngFor="let t of methods" [value]="t.value" name="method">
            {{t.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field >
      <mat-form-field class="example-full-width">
        <mat-select placeholder="Server" [(ngModel)]="server" name="server">
          <mat-option *ngFor="let t of servers" [value]="t.value" name="server">
            {{t.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field >
      <mat-form-field class="example-full-width">
        <mat-select placeholder="CoreNumber" [(ngModel)]="corenumber" name="corenumber">
          <mat-option *ngFor="let c of cores" [value]='c'>{{c || 'Select'}}</mat-option>
        </mat-select>
      </mat-form-field>
      <button (click)="CreateTask()" mat-button>Create</button>
    </form>
  </div>
  <ng-template #noUsePermissionBlock>
    <p>Please contact the administrator for use permission!</p>
  </ng-template>
</div>
<ng-template #noLoginBlock>
  <p>Please login to create a new task!</p>
</ng-template>
<app-message></app-message>